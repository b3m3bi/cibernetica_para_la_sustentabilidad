{
  "hash": "646f9a29341d9ca5db59276bbc26f88e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"01 - Notebooks\"\noutput: html_document\nexecution:\n  eval: false\n---\n\n\n\n\n# Introducción\n\nEn este curso vamos a estar usando documentos como este que tienes frente a tí. A estos documentos se conoce como **notebooks**. Los notebooks son archivos muy flexibles que permiten integrar texto en prosa (como este), código y figuras.\n\nEn este notebook vemos las principales características de los **notebooks**, creamos nuestro primer programa y vemos un ejemplo del tipo de análisis que se pueden hacer con R.\n\n**Objetivos**\n\n-   Familiarizarse con la estructura y uso de los notebooks\n-   Aprender a ejecutar y modificar una celda de código\n\n# Elementos de un notebook\n\nLos notebooks tienen básicamente 2 cosas:\n\n1.  **Texto en prosa**, el cual se puede formatear como en los procesadores de texto (e.g., Word). Se pueden poner encabezados y subencabezados, y darle formato básico al texto como poner **negritas**, *itálicas*, ~~tachado~~, emojis 😃, agregar [enlaces](www.google.com) o listas.\n\nLos notebooks no permiten editar cada mínimo detalle del diseño del documento (e.g., cambiar color, cambiar la fuente y su tamaño). Esto se debe a que son archivos diseñados para hacer análisis de datos y ejecutar código no para hacer diseño gráfico.\n\nAlgo interesante a notar es que todo el formato que puedes ver del texto se le da con un código muy simple. Si cambias el modo de ver el documento de \"Visual\" a \"Source\" podrás ver que el formato del texto en realidad se les da a los elementos agregándoles cosas como asteríscos y cosas raras. A estas reglas se les conoce como RMarkdown, pero por ahora eso no es importante...\n\n2.  **Céldas de código**, donde uno puede escribir código de R y ver los resultados de su código. Una celda de código se ve más o menos así:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(\"Soy una celda de código\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Soy una celda de código\"\n```\n\n\n:::\n:::\n\n\n\n\nLas celdas de código son los comandos que nosotros le podemos pasar a R para que haga cosas. Para pasarle a R nuestro código debemos **ejecutar la celda**. Para ello hay que dar click en el pequeño signo ⏵ («Run current chunk»). Al ejecutar el código el resultado sale en dos lados: (1) debajo de la celda de código y (2) en la consola de R. A veces puede llegar a ser poco práctico ver los resultados debajo de la celda de código ya que ocupa mucho espacio y se hace más confuso saber qué es código y que no lo es. Podemos desactivar esta opción dando click en el engrane («Edit de Rmarkdown options...») y seleccionando «Chunk Output in Console».\n\n# ¡Hola mundo!\n\nCuando uno aprende a programar generalmente inicia creando el programa [¡Hola mundo!](https://es.wikipedia.org/wiki/Hola_mundo). Este es un programa muy simple que lo único que hace es imprimir en la pantalla el texto `¡Hola mundo!`.\n\nEn R ese programa se ve así:\n\n```         \nprint(\"¡Hola mundo!\")\n```\n\nAquí lo que tenemos son solo 2 cosas:\n\n1.  la función `print()`, la cual imprime en la pantalla el texto que se le pase entre sus paréntesis, y\n2.  una cadena de texto `\"¡Hola mundo!\"`, aquí son muy imporantes las comillas, ya que esas le indican a R que eso no es parte de su lenguaje sino que es simplemente texto.\n\nAhora ejecuta el programa que está escrito en la siguiente celda:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(\"¡Hola mundo!\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"¡Hola mundo!\"\n```\n\n\n:::\n:::\n\n\n\n\n# Ejercicio\n\n1.  En la siguiente celda crea un programa que imprima el texto `\"¡Hola! Mi nombre es <TU NOMBRE>\"`. Al terminar corre la celda para ejecuta tu programa.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n# Un ejemplo más interesante...\n\nYa aprendimos qué son los notebooks y cómo se usan, pero el ejemplo que vimos es muy aburrido y poco útil. Veamos cómo se ve un ejemplo más interesante donde analizamos y visualizamos la matrícula de estudiantes de licenciatura en México.\n\n## Matrícula de licenciatura en México\n\nEl siguiente ejemplo muestra un análisis de datos reales de los [Anuarios Estadísticos de Educación Superior](http://www.anuies.mx/informacion-y-servicios/informacion-estadistica-de-educacion-superior/anuario-estadistico-de-educacion-superior) de la ANUIES. Estos datos contienen información sobre el número de estudiantes matriculados en distintas universidades de todo México. Estos son datos los sacan cada año y los que vamos a analizar corresponden al ciclo escolar 2023-2024. No te **proecupes por entender el código**, el objetivo de este ejemplo es solo que veas cómo se pueden analizar datos con R.\n\n### Preparar los datos\n\nImportamos paqueterías que vamos a usar para nuestro procesamiento de datos.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(c(\"tidyverse\", \"janitor\"))\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n:::\n\n\n\n\nImportamos los datos del anuario enstadístico de la ANUIES.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanuario_2023_2024 <- read_csv(\n        \"./data/anuario_educacion_superior_2023-2024_v1-2.csv\", \n        skip = 3, \n        n_max = 47814,\n        col_select = c(1, 3, 6, 7, 8, 10, 12, 14, 15, 16)\n        ) |> \n        clean_names() |>\n        pivot_longer(\n            cols = starts_with(\"matricula\"),\n            names_to = \"genero\",\n            values_to = \"matricula\",\n            names_prefix = \"matricula_\"\n        )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 47814 Columns: 10\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (8): ENTIDAD FEDERATIVA, TIPO DE SOSTENIMIENTO, NOMBRE INSTITUCIÓN, NOMB...\nnum (2): Matrícula Mujeres, Matrícula Hombres\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n:::\n\n\n\n\nLos datos del anuario incluyen varias columnas con información del número de matriculados en cada programa de estudios en las instituciónes de educación superior de México:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nView(anuario_2023_2024)\n```\n:::\n\n\n\n\nVamos a centrarnos sólo en los estudiantes de nivel licenciatura. Para ello seleccionamos únicamente los registros de programas de licenciatura.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlicenciatura <- anuario_2023_2024 |> \n    filter(nivel_de_estudios == 'LICENCIATURA UNIVERSITARIA Y TECNOLÓGICA')\n```\n:::\n\n\n\n\n### Exploraciones\n\nAhora podemos empezar a explorar nuestros datos. Primero veamos, ¿cuáles son las **universidades que tienen más estudiantes**?\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlicenciatura |> \n  group_by(nombre_institucion) |>\n  summarise(\n    matricula_total = sum(matricula)\n  ) |>\n  arrange(desc(matricula_total)) |>\n  print(n = 100)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,973 × 2\n    nombre_institucion                                           matricula_total\n    <chr>                                                                  <dbl>\n  1 UNIVERSIDAD NACIONAL AUTÓNOMA DE MÉXICO                               229141\n  2 UNIVERSIDAD DE GUADALAJARA                                            136980\n  3 INSTITUTO POLITÉCNICO NACIONAL                                        132288\n  4 UNIVERSIDAD AUTÓNOMA DE NUEVO LEÓN                                    128716\n  5 UNIVERSIDAD ABIERTA Y A DISTANCIA DE MÉXICO                           114714\n  6 UNIVERSIDAD TECNOLÓGICA DE MÉXICO                                      94344\n  7 BENEMÉRITA UNIVERSIDAD AUTÓNOMA DE PUEBLA                              91722\n  8 UNIVERSIDAD TECNOLÓGICA LATINOAMERICANA EN LÍNEA                       82967\n  9 UNIVERSIDAD DEL VALLE DE MÉXICO                                        74920\n 10 UNIVERSIDAD AUTÓNOMA DE SINALOA                                        74210\n 11 UNIVERSIDAD AUTÓNOMA DEL ESTADO DE MÉXICO                              68343\n 12 UNIVERSIDAD AUTÓNOMA DE BAJA CALIFORNIA                                66885\n 13 UNIVERSIDAD VERACRUZANA                                                65096\n 14 UNIVERSIDAD AUTÓNOMA METROPOLITANA                                     54266\n 15 INSTITUTO TECNOLÓGICO Y DE ESTUDIOS SUPERIORES DE MONTERREY            52525\n 16 UNIVERSIDAD MICHOACANA DE SAN NICOLÁS DE HIDALGO                       39697\n 17 UNIVERSIDAD VIZCAYA DE LAS AMÉRICAS                                    37569\n 18 UNIVERSIDAD AUTÓNOMA DE CIUDAD JUÁREZ                                  36765\n 19 UNIVERSIDAD DE SONORA                                                  35694\n 20 UNIVERSIDAD AUTÓNOMA DE TAMAULIPAS                                     35671\n 21 UNIVERSIDAD AUTÓNOMA DE GUERRERO                                       33282\n 22 UNIVERSIDAD VIRTUAL DEL ESTADO DE GUANAJUATO                           33214\n 23 UNIVERSIDAD AUTÓNOMA DEL ESTADO DE HIDALGO                             32947\n 24 UNIVERSIDAD AUTÓNOMA DE SAN LUIS POTOSÍ                                30166\n 25 UNIVERSIDAD AUTÓNOMA DE CHIAPAS                                        29471\n 26 UNIVERSIDAD TRES CULTURAS                                              28264\n 27 UNIVERSIDAD AUTÓNOMA DEL ESTADO DE MORELOS                             26523\n 28 UNIVERSIDAD AUTÓNOMA DE COAHUILA                                       26471\n 29 UNIVERSIDAD JUÁREZ AUTÓNOMA DE TABASCO                                 26248\n 30 UNIVERSIDAD DE GUANAJUATO                                              26174\n 31 UNIVERSIDAD AUTÓNOMA DE ZACATECAS                                      25942\n 32 ENSEÑANZA E INVESTIGACIÓN SUPERIOR, A.C.                               25727\n 33 UNIVERSIDAD AUTÓNOMA DE CHIHUAHUA                                      25363\n 34 UNIVERSIDAD LATINOAMERICANA, S.C.                                      24623\n 35 UNIVERSIDAD POPULAR AUTÓNOMA DE VERACRUZ                               24297\n 36 UNIVERSIDAD INTERAMERICANA PARA EL DESARROLLO                          24023\n 37 UNIVERSIDAD AUTÓNOMA DE LA CIUDAD DE MÉXICO                            23871\n 38 INSTITUTO DE ESTUDIOS SUPERIORES DE LA CIUDAD DE MÉXICO ROS…           23319\n 39 CENTRO DE ESTUDIOS SUPERIORES EN CIENCIAS JURÍDICAS Y CRIMI…           22640\n 40 UNIVERSIDAD AUTÓNOMA DE QUERÉTARO                                      21980\n 41 UNIVERSIDAD AUTÓNOMA DE OCCIDENTE                                      21777\n 42 UNIVERSIDAD AUTÓNOMA DE DURANGO A.C.                                   20767\n 43 UNIVERSIDAD UNIVER                                                     19114\n 44 INSTITUTO UNIVERSITARIO DEL CENTRO DE MÉXICO                           18774\n 45 UNIVERSIDAD CNCI                                                       18229\n 46 UNIVERSIDAD AUTÓNOMA BENITO JUÁREZ DE OAXACA                           18218\n 47 UNIVERSIDAD AUTÓNOMA DE YUCATÁN                                        17273\n 48 UNIVERSIDAD MEXIQUENSE DEL BICENTENARIO                                16885\n 49 INSTITUTO TECNOLÓGICO DE SONORA                                        16444\n 50 UNIVERSIDAD AUTÓNOMA DE TLAXCALA                                       16216\n 51 UNIVERSIDAD AUTÓNOMA DE AGUASCALIENTES                                 16070\n 52 UNIVERSIDAD AUTÓNOMA DE NAYARIT                                        15783\n 53 UNIVERSIDAD ESTATAL DE SONORA                                          15090\n 54 UNIVERSIDAD JUÁREZ DEL ESTADO DE DURANGO                               14542\n 55 INSTITUTO DE ESTUDIOS UNIVERSITARIOS, A.C.                             14345\n 56 UNIVERSIDAD CUAUHTÉMOC                                                 13828\n 57 UNIVERSIDAD ALFA Y OMEGA                                               13650\n 58 UNIVERSIDAD DE COLIMA                                                  13649\n 59 INSTITUTO DE CIENCIAS Y ESTUDIOS SUPERIORES DE TAMAULIPAS, …           13104\n 60 UNIVERSIDAD INSURGENTES                                                12761\n 61 UNIVERSIDAD ANÁHUAC                                                    12641\n 62 INSTITUTO TECNOLÓGICO JOSÉ MARIO MOLINA PASQUEL Y HENRÍQUEZ            12374\n 63 UNIVERSIDAD PANAMERICANA                                               12005\n 64 GRUPO TECNOLÓGICO UNIVERSITARIO                                        11860\n 65 UNIVERSIDAD DE MONTERREY                                               11827\n 66 INSTITUTO DE EDUCACIÓN DIGITAL DEL ESTADO DE PUEBLA                    11490\n 67 UNIVERSIDAD METROPOLITANA DE MONTERREY                                 11432\n 68 INSTITUTO TECNOLÓGICO DE TIJUANA                                       11007\n 69 UNIVERSIDAD CIUDADANA DE NUEVO LEÓN                                    10889\n 70 UNIVERSIDAD IBEROAMERICANA - CIUDAD DE MÉXICO                          10669\n 71 INSTITUTO TECNOLÓGICO Y DE ESTUDIOS SUPERIORES DE OCCIDENTE            10472\n 72 UNIVERSIDAD AUTÓNOMA DE GUADALAJARA                                    10319\n 73 UNIVERSIDAD DE LOS ÁNGELES                                             10306\n 74 UNIVERSIDAD POPULAR AUTÓNOMA DEL ESTADO DE PUEBLA                      10151\n 75 ESCUELA BANCARIA Y COMERCIAL, S.C.                                      9579\n 76 UNIVERSIDAD MEXICANA                                                    9564\n 77 UNIVERSIDAD DE CIENCIAS Y ARTES DE CHIAPAS                              9303\n 78 CENTRO UNIVERSITARIO UNE                                                9298\n 79 UNIVERSIDAD DE LEÓN                                                     9211\n 80 UNIVERSIDAD AUTÓNOMA INDÍGENA DE MÉXICO                                 9000\n 81 UNIVERSIDAD DEL ATLÁNTICO                                               8752\n 82 INSTITUTO TECNOLÓGICO DE PUEBLA                                         8607\n 83 UNIVERSIDAD PRIVADA DEL ESTADO DE MÉXICO                                8538\n 84 UNIVERSIDAD LA SALLE, A.C. - BAJÍO                                      8191\n 85 FUNDACIÓN UNIVERSIDAD DE LAS AMÉRICAS, PUEBLA                           8162\n 86 UNIVERSIDAD DEL VALLE DE ATEMAJAC                                       8030\n 87 UNIVERSIDAD DEL DESARROLLO PROFESIONAL                                  7850\n 88 UNIVERSIDAD ANÁHUAC - MAYAB                                             7780\n 89 UNIVERSIDAD PEDAGÓGICA NACIONAL                                         7777\n 90 INSTITUTO TECNOLÓGICO DE CIUDAD MADERO                                  7635\n 91 UNIVERSIDAD AUTÓNOMA DE BAJA CALIFORNIA SUR                             7600\n 92 INSTITUTO TECNOLÓGICO SUPERIOR DE IRAPUATO                              7534\n 93 UNIVERSIDAD DE IXTLAHUACA CUI A.C.                                      7528\n 94 CENTRO UNIVERSITARIO UTEG                                               7500\n 95 UNIVERSIDAD EN MOVIMIENTO                                               7454\n 96 UNIVERSIDAD AUTÓNOMA DE CAMPECHE                                        7416\n 97 INSTITUTO TECNOLÓGICO DE OAXACA                                         7244\n 98 INSTITUTO TECNOLÓGICO DE SALTILLO                                       7205\n 99 TECNOLÓGICO DE ESTUDIOS SUPERIORES DE ECATEPEC                          7191\n100 UNIVERSIDAD INTERACTIVA Y A DISTANCIA DEL ESTADO DE GUANAJU…            7055\n# ℹ 2,873 more rows\n```\n\n\n:::\n:::\n\n\n\n\nAhora veamos cuales fueron en el ciclo 2023-2024 **las carreras más estudiadas** en México:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlicenciatura |>\n  group_by(nombre_programa_educativo) |>\n  summarise(\n    matricula_total = sum(matricula)\n  ) |>\n  arrange(desc(matricula_total)) |>\n  print(n = 10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4,109 × 2\n   nombre_programa_educativo                  matricula_total\n   <chr>                                                <dbl>\n 1 LICENCIATURA EN DERECHO                             343437\n 2 LICENCIATURA EN PSICOLOGÍA                          181666\n 3 LICENCIATURA EN ENFERMERÍA                          159386\n 4 LICENCIATURA EN PEDAGOGÍA                           133682\n 5 INGENIERÍA INDUSTRIAL                               129714\n 6 LICENCIATURA EN ADMINISTRACIÓN                      124907\n 7 LICENCIATURA EN ADMINISTRACIÓN DE EMPRESAS           97959\n 8 INGENIERÍA EN SISTEMAS COMPUTACIONALES               83326\n 9 LICENCIATURA EN ARQUITECTURA                         80846\n10 INGENIERÍA EN GESTIÓN EMPRESARIAL                    72059\n# ℹ 4,099 more rows\n```\n\n\n:::\n:::\n\n\n\n\nAhora investiguemos cuales son las licenciaturas con mayor matrícula en la Ibero. ¿Cuántos estudiantes hay en LISA? Hagamos una visualización para explorar esto.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlicenciatura |>\n  filter(\n    nombre_institucion == \"UNIVERSIDAD IBEROAMERICANA - CIUDAD DE MÉXICO\"\n    ) |>\n  mutate( \n    nombre_corto_programa = str_to_sentence(\n      str_replace(nombre_programa_educativo, \"LICENCIATURA EN\", \"\")\n      )) |>\n  filter(matricula > 0) |>\n  group_by(nombre_corto_programa) |>\n  summarise(\n    matricula = sum(matricula)\n  ) |>\n  ggplot(\n    aes(\n      x = matricula,\n      y = fct_reorder(nombre_corto_programa, matricula),\n      label = matricula\n      )) +\n  geom_col(fill = \"#EFB42A\") +\n  geom_text(\n    position = position_stack(vjust = 0.5),\n    size = 3\n    ) +\n  labs(\n    y = \"\",\n    x = \"\",\n    title = \"Número de estudiantes matriculados en la IBERO por carrera\",\n    caption = \"Fuente: Anuarios estadísticos de Educación Superior 2023-2024. ANUES\"\n    ) + \n  theme_minimal() +\n  theme(\n    text=element_text(size = 10),\n    plot.title = element_text(size = 12, hjust = 0, margin = margin(b = 20)),\n    plot.title.position = \"plot\",\n    panel.grid.major.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor.x = element_blank(),\n    axis.text.x = element_blank(),\n    axis.text.y = element_text(margin = margin(r = -12))\n    \n    ) \n```\n\n::: {.cell-output-display}\n![](01---Notebooks_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n\n## Ejercicios\n\n1.  Ve a la celda previa y busca donde dice `UNIVERSIDAD IBEROAMERICANA - CIUDAD DE MÉXICO` y sustituye ese texto por `UNIVERSIDAD ANÁHUAC`. Observa cómo cambia tu gráfica ¿Cuál es la licenciatura con más estudiantes en la Aháhuac?\n2.  Ahora explora los datos de la `UNIVERSIDAD AUTÓNOMA METROPOLITANA`. ¿Cuál es la licenciatura con más estudiantes en la UAM?\n3.  Ahora explora los datos de la IBERO de Puebla (`UNIVERSIDAD IBEROAMERICANA - PUEBLA`). ¿Cuál es la licenciatura con más estudiantes en la IBERO de Puebla?\n",
    "supporting": [
      "01---Notebooks_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}