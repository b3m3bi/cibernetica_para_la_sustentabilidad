{"title":"08 - Cargar datos","markdown":{"yaml":{"title":"08 - Cargar datos","output":"html","editor_options":{"chunk_output_type":"console"}},"headingText":"Introducción","containsRefs":false,"markdown":"\n\n\nHasta ahora hemos visto:\n\n1.  Cómo trabajar con notebooks de R\n2.  Cómo hacer operaciones aritméticas\n3.  Cómo trabajar con strings o cadenas de texto\n4.  Cómo crear y usar variables\n5.  Cómo trabajar con vectores\n6.  Cómo trabajar con funciones\n7.  Cómo cargar y usar paquetes\n\n¡Ya tenemos las herramientas necesarias para empezar a trabajar con datos reales!\n\nEn este notebook vemos cómo podemos cargar datos en R.\n\n**Objetivos**\n\n-   Cargar archivos de datos a RStudio\n-   Leer datos en R con tidyverse\n-   Ver tablas de datos\n\n# Obtener datos\n\nEn este notebook vamos a explorar datos de pokemon.\n\n**Instrucciones**\n\n1.  Abre el siguiente enlace: [Datos pokemón](https://gist.githubusercontent.com/armgilles/194bcff35001e7eb53a2a8b441e8b2c6/raw/92200bc0a673d5ce2110aaad4544ed6c4010f687/pokemon.csv)\n2.  Da click en *Archivo* \\> *Guardar página como...* (da click en `CTRL + S`) y guarda los datos en tu computadora. Asegúrate de dejarle la extensión de archivo `.csv`\n\n# Archivos .csv\n\nEl archivo que se te debió descargar es uno con extensión `.csv`. Estos son archivos muy comunes cuando trabajamos con datos. csv significa «Comma Separated Values», es decir, valores separados por comas. Este archivo lo puedes abrir con varios programas, por ejemplo, con un editor de texto cualquiera como *Block de notas* en Windows o *TextEdit* de Mac. Si lo abres verás algo así:\n\n![](./imgs/csv_editor_texto.png)\n\nLa primera fila nos da el nombre de las variables que tenemos separados por comas. Los nombres son bastante descriptivos y podemos facilmente deducir qué datos tenemos:\n\n-   `#`: un identificador\n-   `Name`: el nombre del pokemón\n-   `Type 1`, `Type 2`: el tipo de pokemón\n-   `HP`: el poder total del pokemón\n-   `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, `Speed`: el puntaje de ataque, defensa, ataque y defensa especial y la velocidad\n-   `Generation`: la generación a la que pertenece\n-   `Legendary`: si es un pokemón legendario o no\n\nLas siguientes filas nos dan los valores de las variables para distintos pokemón.\n\nPor ejemplo, en la segunda fila tenemos los datos:\n\n-   `Bulbasaur`\n-   `Grass`\n-   `Poison`\n-   `318`\n\nEsto nos dice que en *Bulbasaur es un pokemón de tipo pasto y veneno y que su HP es 318*.\n\nComo podrás notar este archivo es similar a una tabla y si lo abres en una aplicación de hojas de cáclulo como Excel, Google Sheets o LibreOffice Calc, verás algo así:\n\n![](./imgs/csv_hoja_de_calculo.png)\n\nComo podrás notar esto es como una tabla donde cada columna corresponde a una variable y cada fila a una observación:\n\n![](./imgs/estructura_tabla_datos.png)\n\nLos archivos .csv son muy comunes para almacenar datos ya que son muy ligeros, se pueden abrir con cualquier programa y se pueden manipular fácilmente.\n\n# Establecer el directorio de trabajo\n\nAlgo fundamental cuando trabajamos con R es establecer nuestro **Directorio de trabajo** o **Working directory**. Este es una cartpeta que RStudio utiliza para encontrar los archivos que uno quiera cargar.\n\nPuedes ver cual es tu directorio de trabajo en la parte superior de tu consola:\n\n![](./imgs/wd_console.png)\n\nTambién puedes preguntarle a R cuál es el directorio de trabajo con el siguiene comando:\n\n```{r}\ngetwd()\n```\n\nCuando trabajamos en RStudio usando Posit Cloud generalmente el directorio de trabajo ya está bien determinado y no hay que hacer nada. Sin embargo, cuando trabajamos en RStudio en nuestras computadoras personales debemos especificar nuestro directorio de trabajo. Para eso debemos dar click en **«Session \\> Set Working Directory \\> Choose Directory»** y elegir la carpeta donde queremos trabajar.\n\n![](./imgs/establecer_wd.png)\n\nOtra forma de establecer el directorio de trabajo es usando la función `setwd()` a la cual le debemos dar la ruta completa a la carpeta donde queremos trabajar:\n\n```{r}\n# setwd(\"/cloud/project/\")\n```\n\n# Subir los datos\n\nSi trabajas en tu computadora personal solo debes colocar los datos el directorio de trabajo, pero al trabajar en Posit Cloud debemos subir los datos para poder usarlos.\n\nPara subir los datos:\n\n1.  En el panel inferior derecho de RStudio selecciona la pestaña **Files**\n\n2.  Da click en **Upload**: ![](./imgs/icono_upload.png)\n\n3.  Da click en **Browse** en la sección de *File to upload*:\n\n    ![](imgs/upload_browse.png)\n\n4.  Busca y selecciona tu archivo csv\n\n5.  Listo. Tu archivo debe aparecer en la lista de archivos.\n\n# Leer los datos\n\nPara leer los datos vamos a usar un paquete que se llama **tidyverse**. Este generalmente hay que instalarlo primero, pero para este proyecto de Posit Cloud yo ya lo instalé previamente por lo que solo hay que pedirle a R que cargue el paquete con la función `library`:\n\n```{r}\n## Instalar tidyverse\n# install.packages(\"tidyverse\")\n\n## Cargar tidyverse\nlibrary(tidyverse)\n\n```\n\nPara leer el archivo usamos una función que se llama `read_csv` a la cual como argumento debemos pasarle la el nombre del archivo que queremos leer (en forma de cadena):\n\n```{r}\n\nread_csv(\"./pokemon.csv\")\n\n```\n\nComo podrás ver los datos R los reconoce como una tabla y el comando solo nos imprime una parte de los datos.\n\nNota como la consola se te da información sobre los datos que acabas de importar. En particular podemos ver que los datos tienen 800 filas y 13 columnas. Además abajo nos dice el tipo de dato con el que se importó cada columna. Podemos ver que las columnas `Name`, `Type 1` y `Type 2` las importó como cadenas de caracteres (`chr`). Las columnas `#`, `Total`, `HP`, `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, `Speed`, `Generation` las importó como números (`dbl`). Y la columna `Legendary` como un valor booleano (`lgl`) que solo puede tomar los valores `TRUE` o `FALSE`.\n\nPara poder trabajar con los datos en R hay que guardarlos en una variable:\n\n```{r}\n\npokemon <- read_csv(\"./pokemon.csv\")\n\n```\n\n# Ver la tabla de datos\n\nPara visualizar tus datos a manera de una hoja de calculo puedes usar el comando `View` el cual abre una nueva pestaña mostrando los datos:\n\n```{r}\n\nView(pokemon)\n\n```\n\n**Advertencia**: No es recomendable abrir de esta manera archivos muy grandes ya que puedes hacer que R se trabe.\n\nOtra función útil para darnos una idea de cómo se ve un conjunto es la función `head` que nos muestra solo el inicio de nuestra tabla:\n\n```{r}\n\nhead(pokemon)\n\n```\n\nPodemos controlar el número de filas que queremos ver con el argumento `n`:\n\n```{r}\n\nhead(pokemon, n = 10)\n\n```\n\nUna función complementaria a `head` es la función `tail`, la cual nos muestra solo una parte del final de los datos:\n\n```{r}\n\ntail(pokemon, n = 3)\n\n```\n\nOtra función para echar un vistazo a los datos es la función `glimpse`, la cual nos muestra todas las columnas de manera horizontal:\n\n```{r}\n\nglimpse(pokemon)\n\n```\n\nSi solo queremos ver los nombres de las columnas de nuestros datos podemos usar la función `names`:\n\n```{r}\n\nnames(pokemon)\n\n```\n\n# Ejercicio\n\nEn este ejercicio vas a descargar y cargar un conjunto de datos de películas de Pixar\n\n1.  Descarga los datos del siguiente enlace: [películas pixa](https://gist.githubusercontent.com/b3m3bi/fca2b77734e5e3ca92cd4e4616737229/raw/ca1736594f47ae8c204c1eb51e2483d91caac26f/pixar-movies.csv)[r](https://gist.githubusercontent.com/b3m3bi/fca2b77734e5e3ca92cd4e4616737229/raw/ab39db8f7a7e99fd7267f8dc060343f75419d8de/pixar-movies.csv)\n2.  Sube los datos a RStudio\n3.  Lee los datos usando la función `read_csv` y guárdalos en una variable que se llame `pixar`\n4.  Explora la tabla de datos con la función `View`.\n5.  Responde a las siguientes preguntas:\n    -   ¿Cuántas filas y cuantas columnas tienes?\n\n    -   ¿Qué variables incluye tu conjunto de datos? ¿Qué crees que signifique cada variable?\n\n```{r}\n# Escribe aquí tu código\n\n\n```\n","srcMarkdownNoYaml":"\n\n# Introducción\n\nHasta ahora hemos visto:\n\n1.  Cómo trabajar con notebooks de R\n2.  Cómo hacer operaciones aritméticas\n3.  Cómo trabajar con strings o cadenas de texto\n4.  Cómo crear y usar variables\n5.  Cómo trabajar con vectores\n6.  Cómo trabajar con funciones\n7.  Cómo cargar y usar paquetes\n\n¡Ya tenemos las herramientas necesarias para empezar a trabajar con datos reales!\n\nEn este notebook vemos cómo podemos cargar datos en R.\n\n**Objetivos**\n\n-   Cargar archivos de datos a RStudio\n-   Leer datos en R con tidyverse\n-   Ver tablas de datos\n\n# Obtener datos\n\nEn este notebook vamos a explorar datos de pokemon.\n\n**Instrucciones**\n\n1.  Abre el siguiente enlace: [Datos pokemón](https://gist.githubusercontent.com/armgilles/194bcff35001e7eb53a2a8b441e8b2c6/raw/92200bc0a673d5ce2110aaad4544ed6c4010f687/pokemon.csv)\n2.  Da click en *Archivo* \\> *Guardar página como...* (da click en `CTRL + S`) y guarda los datos en tu computadora. Asegúrate de dejarle la extensión de archivo `.csv`\n\n# Archivos .csv\n\nEl archivo que se te debió descargar es uno con extensión `.csv`. Estos son archivos muy comunes cuando trabajamos con datos. csv significa «Comma Separated Values», es decir, valores separados por comas. Este archivo lo puedes abrir con varios programas, por ejemplo, con un editor de texto cualquiera como *Block de notas* en Windows o *TextEdit* de Mac. Si lo abres verás algo así:\n\n![](./imgs/csv_editor_texto.png)\n\nLa primera fila nos da el nombre de las variables que tenemos separados por comas. Los nombres son bastante descriptivos y podemos facilmente deducir qué datos tenemos:\n\n-   `#`: un identificador\n-   `Name`: el nombre del pokemón\n-   `Type 1`, `Type 2`: el tipo de pokemón\n-   `HP`: el poder total del pokemón\n-   `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, `Speed`: el puntaje de ataque, defensa, ataque y defensa especial y la velocidad\n-   `Generation`: la generación a la que pertenece\n-   `Legendary`: si es un pokemón legendario o no\n\nLas siguientes filas nos dan los valores de las variables para distintos pokemón.\n\nPor ejemplo, en la segunda fila tenemos los datos:\n\n-   `Bulbasaur`\n-   `Grass`\n-   `Poison`\n-   `318`\n\nEsto nos dice que en *Bulbasaur es un pokemón de tipo pasto y veneno y que su HP es 318*.\n\nComo podrás notar este archivo es similar a una tabla y si lo abres en una aplicación de hojas de cáclulo como Excel, Google Sheets o LibreOffice Calc, verás algo así:\n\n![](./imgs/csv_hoja_de_calculo.png)\n\nComo podrás notar esto es como una tabla donde cada columna corresponde a una variable y cada fila a una observación:\n\n![](./imgs/estructura_tabla_datos.png)\n\nLos archivos .csv son muy comunes para almacenar datos ya que son muy ligeros, se pueden abrir con cualquier programa y se pueden manipular fácilmente.\n\n# Establecer el directorio de trabajo\n\nAlgo fundamental cuando trabajamos con R es establecer nuestro **Directorio de trabajo** o **Working directory**. Este es una cartpeta que RStudio utiliza para encontrar los archivos que uno quiera cargar.\n\nPuedes ver cual es tu directorio de trabajo en la parte superior de tu consola:\n\n![](./imgs/wd_console.png)\n\nTambién puedes preguntarle a R cuál es el directorio de trabajo con el siguiene comando:\n\n```{r}\ngetwd()\n```\n\nCuando trabajamos en RStudio usando Posit Cloud generalmente el directorio de trabajo ya está bien determinado y no hay que hacer nada. Sin embargo, cuando trabajamos en RStudio en nuestras computadoras personales debemos especificar nuestro directorio de trabajo. Para eso debemos dar click en **«Session \\> Set Working Directory \\> Choose Directory»** y elegir la carpeta donde queremos trabajar.\n\n![](./imgs/establecer_wd.png)\n\nOtra forma de establecer el directorio de trabajo es usando la función `setwd()` a la cual le debemos dar la ruta completa a la carpeta donde queremos trabajar:\n\n```{r}\n# setwd(\"/cloud/project/\")\n```\n\n# Subir los datos\n\nSi trabajas en tu computadora personal solo debes colocar los datos el directorio de trabajo, pero al trabajar en Posit Cloud debemos subir los datos para poder usarlos.\n\nPara subir los datos:\n\n1.  En el panel inferior derecho de RStudio selecciona la pestaña **Files**\n\n2.  Da click en **Upload**: ![](./imgs/icono_upload.png)\n\n3.  Da click en **Browse** en la sección de *File to upload*:\n\n    ![](imgs/upload_browse.png)\n\n4.  Busca y selecciona tu archivo csv\n\n5.  Listo. Tu archivo debe aparecer en la lista de archivos.\n\n# Leer los datos\n\nPara leer los datos vamos a usar un paquete que se llama **tidyverse**. Este generalmente hay que instalarlo primero, pero para este proyecto de Posit Cloud yo ya lo instalé previamente por lo que solo hay que pedirle a R que cargue el paquete con la función `library`:\n\n```{r}\n## Instalar tidyverse\n# install.packages(\"tidyverse\")\n\n## Cargar tidyverse\nlibrary(tidyverse)\n\n```\n\nPara leer el archivo usamos una función que se llama `read_csv` a la cual como argumento debemos pasarle la el nombre del archivo que queremos leer (en forma de cadena):\n\n```{r}\n\nread_csv(\"./pokemon.csv\")\n\n```\n\nComo podrás ver los datos R los reconoce como una tabla y el comando solo nos imprime una parte de los datos.\n\nNota como la consola se te da información sobre los datos que acabas de importar. En particular podemos ver que los datos tienen 800 filas y 13 columnas. Además abajo nos dice el tipo de dato con el que se importó cada columna. Podemos ver que las columnas `Name`, `Type 1` y `Type 2` las importó como cadenas de caracteres (`chr`). Las columnas `#`, `Total`, `HP`, `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, `Speed`, `Generation` las importó como números (`dbl`). Y la columna `Legendary` como un valor booleano (`lgl`) que solo puede tomar los valores `TRUE` o `FALSE`.\n\nPara poder trabajar con los datos en R hay que guardarlos en una variable:\n\n```{r}\n\npokemon <- read_csv(\"./pokemon.csv\")\n\n```\n\n# Ver la tabla de datos\n\nPara visualizar tus datos a manera de una hoja de calculo puedes usar el comando `View` el cual abre una nueva pestaña mostrando los datos:\n\n```{r}\n\nView(pokemon)\n\n```\n\n**Advertencia**: No es recomendable abrir de esta manera archivos muy grandes ya que puedes hacer que R se trabe.\n\nOtra función útil para darnos una idea de cómo se ve un conjunto es la función `head` que nos muestra solo el inicio de nuestra tabla:\n\n```{r}\n\nhead(pokemon)\n\n```\n\nPodemos controlar el número de filas que queremos ver con el argumento `n`:\n\n```{r}\n\nhead(pokemon, n = 10)\n\n```\n\nUna función complementaria a `head` es la función `tail`, la cual nos muestra solo una parte del final de los datos:\n\n```{r}\n\ntail(pokemon, n = 3)\n\n```\n\nOtra función para echar un vistazo a los datos es la función `glimpse`, la cual nos muestra todas las columnas de manera horizontal:\n\n```{r}\n\nglimpse(pokemon)\n\n```\n\nSi solo queremos ver los nombres de las columnas de nuestros datos podemos usar la función `names`:\n\n```{r}\n\nnames(pokemon)\n\n```\n\n# Ejercicio\n\nEn este ejercicio vas a descargar y cargar un conjunto de datos de películas de Pixar\n\n1.  Descarga los datos del siguiente enlace: [películas pixa](https://gist.githubusercontent.com/b3m3bi/fca2b77734e5e3ca92cd4e4616737229/raw/ca1736594f47ae8c204c1eb51e2483d91caac26f/pixar-movies.csv)[r](https://gist.githubusercontent.com/b3m3bi/fca2b77734e5e3ca92cd4e4616737229/raw/ab39db8f7a7e99fd7267f8dc060343f75419d8de/pixar-movies.csv)\n2.  Sube los datos a RStudio\n3.  Lee los datos usando la función `read_csv` y guárdalos en una variable que se llame `pixar`\n4.  Explora la tabla de datos con la función `View`.\n5.  Responde a las siguientes preguntas:\n    -   ¿Cuántas filas y cuantas columnas tienes?\n\n    -   ¿Qué variables incluye tu conjunto de datos? ¿Qué crees que signifique cada variable?\n\n```{r}\n# Escribe aquí tu código\n\n\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":"html","warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"08 - Cargar datos.html"},"language":{"toc-title-document":"Tabla de contenidos","toc-title-website":"En esta página","related-formats-title":"Otros formatos","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Fuente","other-links-title":"Otros Enlaces","code-links-title":"Enlaces de código","launch-dev-container-title":"Iniciar Dev Container","launch-binder-title":"Iniciar Binder","article-notebook-label":"Cuaderno de Artículo","notebook-preview-download":"Descargar Cuaderno","notebook-preview-download-src":"Descargar código fuente","notebook-preview-back":"Volver al Artículo","manuscript-meca-bundle":"Archivo MECA","section-title-abstract":"Resumen","section-title-appendices":"Apéndices","section-title-footnotes":"Notas","section-title-references":"Referencias","section-title-reuse":"Reutilización","section-title-copyright":"Derechos de autor","section-title-citation":"Cómo citar","appendix-attribution-cite-as":"Por favor, cita este trabajo como:","appendix-attribution-bibtex":"BibTeX","appendix-view-license":"Ver Licencia","title-block-author-single":"Autor/a","title-block-author-plural":"Autores/as","title-block-affiliation-single":"Afiliación","title-block-affiliation-plural":"Afiliaciones","title-block-published":"Fecha de publicación","title-block-modified":"Fecha de modificación","title-block-keywords":"Palabras clave","callout-tip-title":"Tip","callout-note-title":"Nota","callout-warning-title":"Advertencia","callout-important-title":"Importante","callout-caution-title":"Precaución","code-summary":"Código","code-tools-menu-caption":"Código","code-tools-show-all-code":"Mostrar todo el código","code-tools-hide-all-code":"Ocultar todo el código","code-tools-view-source":"Ver el código fuente","code-tools-source-code":"Ejecutar el código","tools-share":"Compartir","tools-download":"Descargar","code-line":"Línea","code-lines":"Líneas","copy-button-tooltip":"Copiar al portapapeles","copy-button-tooltip-success":"Copiado","repo-action-links-edit":"Editar esta página","repo-action-links-source":"Ver el código","repo-action-links-issue":"Informar de un problema","back-to-top":"Volver arriba","search-no-results-text":"Sin resultados","search-matching-documents-text":"documentos encontrados","search-copy-link-title":"Copiar el enlace en la búsqueda","search-hide-matches-text":"Ocultar resultados adicionales","search-more-match-text":"resultado adicional en este documento","search-more-matches-text":"resultados adicionales en este documento","search-clear-button-title":"Borrar","search-text-placeholder":"","search-detached-cancel-button-title":"Cancelar","search-submit-button-title":"Enviar","search-label":"Buscar","toggle-section":"Alternar sección","toggle-sidebar":"Alternar barra lateral","toggle-dark-mode":"Alternar modo oscuro","toggle-reader-mode":"Alternar modo lector","toggle-navigation":"Navegación de palanca","crossref-fig-title":"Figura","crossref-tbl-title":"Tabla","crossref-lst-title":"Listado","crossref-thm-title":"Teorema","crossref-lem-title":"Lema","crossref-cor-title":"Corolario","crossref-prp-title":"Proposición","crossref-cnj-title":"Conjetura","crossref-def-title":"Definición","crossref-exm-title":"Ejemplo","crossref-exr-title":"Ejercicio","crossref-ch-prefix":"Capítulo","crossref-apx-prefix":"Apéndice","crossref-sec-prefix":"Sección","crossref-eq-prefix":"Ecuación","crossref-lof-title":"Listado de Figuras","crossref-lot-title":"Listado de Tablas","crossref-lol-title":"Listado de Listados","environment-proof-title":"Prueba","environment-remark-title":"Observación","environment-solution-title":"Solución","listing-page-order-by":"Ordenar por","listing-page-order-by-default":"Por defecto","listing-page-order-by-date-asc":"Menos reciente","listing-page-order-by-date-desc":"Más reciente","listing-page-order-by-number-desc":"De mayor a menor","listing-page-order-by-number-asc":"De menor a mayor","listing-page-field-date":"Fecha","listing-page-field-title":"Título","listing-page-field-description":"Descripción","listing-page-field-author":"Autor/a","listing-page-field-filename":"Nombre de archivo","listing-page-field-filemodified":"Fecha de modificación","listing-page-field-subtitle":"Subtítulo","listing-page-field-readingtime":"Tiempo de lectura","listing-page-field-wordcount":"Conteo de Palabras","listing-page-field-categories":"Categorías","listing-page-minutes-compact":"{0} minutos","listing-page-category-all":"Todas","listing-page-no-matches":"No hay resultados","listing-page-words":"{0} palabras","listing-page-filter":"Filtro","draft":"Borrador"},"metadata":{"lang":"es","fig-responsive":true,"quarto-version":"1.5.55","theme":"cosmo","title":"08 - Cargar datos","editor_options":{"chunk_output_type":"console"}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}